<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="../css/purchase.css"/>
    <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
    />
    <link
    rel = "shortcut icon"
    href = "https://img.icons8.com/?size=100&id=enZOTH5kGrxd&format=png&color=000000"
    type = "image/x-icon"
    />
    <link rel="stylesheet" href="../css/cart.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary" id="navbar">
        <div class="container-fluid" style="gap: 20px;">
          <img
            src="https://img.icons8.com/?size=60&id=123620&format=png&color=000000"
            alt="icon img"
          />
          <a class="navbar-brand" href="../index.html">Hao's Grocery</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <form class="d-flex" role="search">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success" type="submit">Search</button>
          </form>
        </div>
    </nav>
    <div class="grid-container">
        <h1 class="productName" id="productName">Cart</h1>
    
        <div class="product-list" id="productList">

        </div>
    
        <button class="checkout-button" onclick="Checkout()">Checkout</button>
    </div>

    <script>
      window.onload = function() {
      createItem()
      }
      
      function createItem() {
        let cartItemsImage = localStorage.getItem('cartItemsImage')
        let cartItemsDesc = localStorage.getItem('cartItemsDesc')

        const newItem = document.createElement("div")

        const ItemImg = document.createElement('img')
        ItemImg.src = '../product-image/' + cartItemsImage
        ItemImg.alt = 'Error Image'
        ItemImg.id = 'product-image'

        const ItemDesc = document.createElement('p')
        ItemDesc.textContent = cartItemsDesc
        ItemDesc.id = 'product-description'

        const deleteButton = document.createElement('button')
        deleteButton.textContent = 'X'
        deleteButton.classList.add('delete-button')

        newItem.classList.add("product")
        newItem.id = "product"
        
        newItem.appendChild(deleteButton)
        newItem.appendChild(ItemImg)
        newItem.appendChild(ItemDesc)

        const ItemList = document.getElementById('productList')
        ItemList.appendChild(newItem)

        deleteButton.onclick = function() {
        newItem.remove()
        ByeByeItem() 
        }
      }
      
      function clearProductFromLocalStorage() {
        localStorage.removeItem('cartItemsImage')
        localStorage.removeItem('cartItemsDesc')
      }

      function Checkout() {
        if (cartItems.length > 0) {
          alert('Cảm ơn bạn đã mua hàng!')
          clearAllLocalStorage()
        } else {
          alert('Giỏ hàng của bạn đang trống.')
        }
      }

      function clearAllLocalStorage() {
        localStorage.clear()
      }

     
  </script>
</body>
</html>
